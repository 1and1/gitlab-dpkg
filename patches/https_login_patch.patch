--- a/config/initializers/session_store.rb
+++ b/config/initializers/session_store.rb
@@ -4,7 +4,7 @@
   :redis_store, # Using the cookie_store would enable session replay attacks.
   servers: Gitlab::Application.config.cache_store.last, # re-use the Redis config from the Rails cache store
   key: '_gitlab_session',
-  secure: Gitlab.config.gitlab.https,
+  secure: Gitlab::Application.config.force_ssl,
   httponly: true,
   path: (Rails.application.config.relative_url_root.nil?) ? '/' : Rails.application.config.relative_url_root
 )
